(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{18:function(e,t,n){e.exports=n(43)},23:function(e,t,n){},25:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),u=n.n(c),o=(n(23),n(17)),l=n(2),s=n.n(l),i=n(5),m=n(3),p=(n(25),n(4)),f=n.n(p);function b(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],u=n[1],o=Object(a.useState)(""),l=Object(m.a)(o,2),s=l[0],i=l[1],p=Object(a.useState)(0),f=Object(m.a)(p,2),b=f[0],d=f[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement("label",null," Name: "),r.a.createElement("input",{id:"personName",onChange:function(e){u(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Number: "),r.a.createElement("input",{id:"personNumber",onChange:function(e){i(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{id:"addButton",onClick:function(){d((function(e){return e+1})),e.name(c),e.number(s),e.count(b)}},"Add Contact"))}var d=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),l=Object(m.a)(u,2),p=l[0],d=l[1],h=Object(a.useState)(""),v=Object(m.a)(h,2),E=v[0],j=v[1],O=Object(a.useState)(-1),k=Object(m.a)(O,2),g=k[0],w=k[1],x=Object(a.useState)(0),y=Object(m.a)(x,2),S=y[0],B=y[1];Object(a.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/persons");case 2:t=e.sent,n=t.data,console.log(n),N(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[S]),Object(a.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a,r,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/persons");case 2:t=e.sent,n=t.data,a=!0,r=Object(o.a)(n),e.prev=6,u=s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=c.value).name!==p){e.next=10;break}return e.prev=2,e.next=5,f.a.put("/api/persons/".concat(t.id),{name:p,number:E}).then((function(e){B((function(e){return e+1})),t.number!=E?document.getElementById("response").innerHTML=e.data:document.getElementById("response").innerHTML="Contact ".concat(t.name," is already up to date!"),a=!1}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})),r.s();case 9:if((c=r.n()).done){e.next=13;break}return e.delegateYield(u(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),r.e(e.t1);case 18:return e.prev=18,r.f(),e.finish(18);case 21:a&&C();case 22:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(){return e.apply(this,arguments)}})()()}),[g]);var C=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===g){e.next=9;break}return e.prev=1,e.next=4,f.a.post("/api/persons/",{name:p,number:E}).then((function(e){B((function(e){return e+1})),document.getElementById("response").innerHTML=e.data}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return I(e.id)}},"Delete")))}));c(t)},I=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,f.a.delete("/api/persons/".concat(t)).then((function(e){document.getElementById("response").innerHTML=e.data,B((function(e){return e+1}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(b,{count:function(e){return w(e)},name:function(e){return d(e)},number:function(e){return j(e)}}),r.a.createElement("p",{id:"response"}),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name:"),r.a.createElement("th",null,"Number:"),r.a.createElement("th",null)),n)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.17bdf2d7.chunk.js.map